// å›½é™…åŒ–æ”¯æŒ
window.i18n = {
    currentLanguage: 'zh',
    
    translations: {
        zh: {
            'connect_wallet': 'è¿žæŽ¥é’±åŒ…',
            'disconnect_wallet': 'æ–­å¼€è¿žæŽ¥',
            'task_market': 'ä»»åŠ¡å¸‚åœº',
            'publish_task': 'å‘å¸ƒä»»åŠ¡',
            'ai_agent': 'AI Agent',
            'statistics': 'ç»Ÿè®¡ä¿¡æ¯',
            'refresh': 'åˆ·æ–°',
            'view_details': 'æŸ¥çœ‹è¯¦æƒ…',
            'claim_task': 'è®¤é¢†ä»»åŠ¡',
            'select_winner': 'é€‰æ‹©èŽ·èƒœè€…',
            'publish_new_task': 'å‘å¸ƒæ–°ä»»åŠ¡',
            'task_title': 'ä»»åŠ¡æ ‡é¢˜',
            'task_description': 'ä»»åŠ¡æè¿°',
            'task_type': 'ä»»åŠ¡ç±»åž‹',
            'task_requirements': 'ä»»åŠ¡è¦æ±‚',
            'reward_amount': 'å¥–åŠ±é‡‘é¢ (ETH)',
            'deadline': 'æˆªæ­¢æ—¶é—´',
            'submission_link': 'æäº¤é“¾æŽ¥ï¼ˆå¯é€‰ï¼‰',
            'publish': 'å‘å¸ƒä»»åŠ¡',
            'agent_status': 'Agent çŠ¶æ€',
            'not_started': 'æœªå¯åŠ¨',
            'running': 'è¿è¡Œä¸­',
            'stopped': 'å·²åœæ­¢',
            'start_agent': 'å¯åŠ¨ AI Agent',
            'stop_agent': 'åœæ­¢ AI Agent',
            'sync_work': 'åŒæ­¥å·¥ä½œ',
            'work_logs': 'å·¥ä½œæ—¥å¿—',
            'total_tasks': 'æ€»ä»»åŠ¡æ•°',
            'active_workers': 'æ´»è·ƒå·¥ä½œè€…',
            'completed_tasks': 'å·²å®Œæˆä»»åŠ¡',
            'total_rewards': 'æ€»å¥–åŠ±',
            'confirm_payment': 'ç¡®è®¤æ”¯ä»˜',
            'cancel': 'å–æ¶ˆ',
            'payment_info': 'æ”¯ä»˜ä¿¡æ¯',
            'task_id': 'ä»»åŠ¡ID',
            'executor': 'æ‰§è¡Œè€…',
            'reward_amount': 'å¥–åŠ±é‡‘é¢',
            'gas_settings': 'Gas è®¾ç½®',
            'gas_limit': 'Gas Limit',
            'gas_price': 'Gas Price (Gwei)',
            'please_connect_wallet': 'è¯·å…ˆè¿žæŽ¥é’±åŒ…',
            'task_published_successfully': 'ä»»åŠ¡å‘å¸ƒæˆåŠŸ',
            'task_claimed_successfully': 'ä»»åŠ¡è®¤é¢†æˆåŠŸ',
            'winner_selected_successfully': 'èŽ·èƒœè€…é€‰æ‹©æˆåŠŸ',
            'ai_agent_started': 'AI Agent å·²å¯åŠ¨',
            'ai_agent_stopped': 'AI Agent å·²åœæ­¢',
            'loading_tasks': 'åŠ è½½ä»»åŠ¡ä¸­...',
            'tasks_loaded': 'ä»»åŠ¡åŠ è½½å®Œæˆ',
            'no_available_tasks': 'æš‚æ— å¯ç”¨ä»»åŠ¡',
            'processing_payment': 'æ­£åœ¨å¤„ç†æ”¯ä»˜...',
            'sign_transaction': 'è¯·åœ¨ MetaMask ä¸­ç­¾åäº¤æ˜“',
            'transaction_submitted': 'äº¤æ˜“å·²æäº¤ï¼Œç­‰å¾…ç¡®è®¤...',
            'transaction_successful': 'äº¤æ˜“æˆåŠŸ',
            'transaction_failed': 'äº¤æ˜“å¤±è´¥',
            'network_error': 'ç½‘ç»œé”™è¯¯',
            'unknown_error': 'æœªçŸ¥é”™è¯¯'
        },
        en: {
            'connect_wallet': 'Connect Wallet',
            'disconnect_wallet': 'Disconnect',
            'task_market': 'Task Market',
            'publish_task': 'Publish Task',
            'ai_agent': 'AI Agent',
            'statistics': 'Statistics',
            'refresh': 'Refresh',
            'view_details': 'View Details',
            'claim_task': 'Claim Task',
            'select_winner': 'Select Winner',
            'publish_new_task': 'Publish New Task',
            'task_title': 'Task Title',
            'task_description': 'Task Description',
            'task_type': 'Task Type',
            'task_requirements': 'Task Requirements',
            'reward_amount': 'Reward Amount (ETH)',
            'deadline': 'Deadline',
            'submission_link': 'Submission Link (Optional)',
            'publish': 'Publish Task',
            'agent_status': 'Agent Status',
            'not_started': 'Not Started',
            'running': 'Running',
            'stopped': 'Stopped',
            'start_agent': 'Start AI Agent',
            'stop_agent': 'Stop AI Agent',
            'sync_work': 'Sync Work',
            'work_logs': 'Work Logs',
            'total_tasks': 'Total Tasks',
            'active_workers': 'Active Workers',
            'completed_tasks': 'Completed Tasks',
            'total_rewards': 'Total Rewards',
            'confirm_payment': 'Confirm Payment',
            'cancel': 'Cancel',
            'payment_info': 'Payment Info',
            'task_id': 'Task ID',
            'executor': 'Executor',
            'reward_amount': 'Reward Amount',
            'gas_settings': 'Gas Settings',
            'gas_limit': 'Gas Limit',
            'gas_price': 'Gas Price (Gwei)',
            'please_connect_wallet': 'Please connect wallet first',
            'task_published_successfully': 'Task published successfully',
            'task_claimed_successfully': 'Task claimed successfully',
            'winner_selected_successfully': 'Winner selected successfully',
            'ai_agent_started': 'AI Agent started',
            'ai_agent_stopped': 'AI Agent stopped',
            'loading_tasks': 'Loading tasks...',
            'tasks_loaded': 'Tasks loaded',
            'no_available_tasks': 'No available tasks',
            'processing_payment': 'Processing payment...',
            'sign_transaction': 'Please sign transaction in MetaMask',
            'transaction_submitted': 'Transaction submitted, waiting for confirmation...',
            'transaction_successful': 'Transaction successful',
            'transaction_failed': 'Transaction failed',
            'network_error': 'Network error',
            'unknown_error': 'Unknown error',
            
            // æ–°å¢žç¿»è¯‘
            'wallet.title': 'Wallet Information',
            'wallet.accountAddress': 'Account Address',
            'wallet.notConnected': 'Not Connected',
            'wallet.copyAddress': 'Copy Address',
            'wallet.accountBalance': 'Account Balance',
            'wallet.workStats': 'Work Statistics',
            'wallet.publishedTasks': 'Published Tasks',
            'wallet.submittedTasks': 'Submitted Tasks',
            'wallet.completedTasks': 'Completed Tasks',
            'wallet.taskRewards': 'Task Rewards',
            'wallet.refreshBalance': 'Refresh Balance',
            'wallet.balanceUpdated': 'Balance updated successfully',
            'wallet.balanceUpdateFailed': 'Failed to update balance',
            
            'publish.gasLimit': 'Gas Limit',
            'publish.gasPrice': 'Gas Price (Gwei)',
            'publish.gasLimitHint': 'Estimated: 1000000',
            'publish.gasPriceHint': 'Current: 20 Gwei',
            'publish.publisherNote': 'ðŸ’¡ Note: Publisher address will automatically use your connected wallet address',
            
            'payment.gasLimit': 'Gas Limit',
            'payment.gasPrice': 'Gas Price (Gwei)',
            'payment.gasLimitHint': 'Estimated: 500000',
            'payment.gasPriceHint': 'Current: 20 Gwei',
            'payment.estimatedValue': 'Estimated Value',
            'payment.currentValue': 'Current Value'
        }
    },
    
    t: function(key) {
        return this.translations[this.currentLanguage][key] || key;
    },
    
    setLanguage: function(lang) {
        this.currentLanguage = lang;
        this.updateUI();
    },
    
    updateUI: function() {
        // æ›´æ–°ç•Œé¢æ–‡æœ¬
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            element.textContent = this.t(key);
        });
    }
};